/* 优化的Markdown样式 */

.markdown-content {
  line-height: 1.7;
  color: var(--color-text-main);
}

/* 代码高亮自定义样式 */
.markdown-content .hljs {
  background: var(--color-surface) !important;
  color: var(--color-text-main) !important;
}

html.dark .markdown-content .hljs {
  background: #2d2d2d !important;
  /* Slightly lighter than surface for contrast */
  color: #e5e7eb !important;
}

.markdown-content .hljs-comment,
.markdown-content .hljs-quote {
  color: #6a737d;
  font-style: italic;
}

html.dark .markdown-content .hljs-comment,
html.dark .markdown-content .hljs-quote {
  color: #8b949e;
}

.markdown-content .hljs-keyword,
.markdown-content .hljs-selector-tag,
.markdown-content .hljs-subst {
  color: #d73a49;
}

html.dark .markdown-content .hljs-keyword,
html.dark .markdown-content .hljs-selector-tag,
html.dark .markdown-content .hljs-subst {
  color: #ff7b72;
}

.markdown-content .hljs-number,
.markdown-content .hljs-literal,
.markdown-content .hljs-variable,
.markdown-content .hljs-template-variable,
.markdown-content .hljs-tag .hljs-attr {
  color: #005cc5;
}

html.dark .markdown-content .hljs-number,
html.dark .markdown-content .hljs-literal,
html.dark .markdown-content .hljs-variable,
html.dark .markdown-content .hljs-template-variable,
html.dark .markdown-content .hljs-tag .hljs-attr {
  color: #79c0ff;
}

.markdown-content .hljs-string,
.markdown-content .hljs-doctag {
  color: #032f62;
}

html.dark .markdown-content .hljs-string,
html.dark .markdown-content .hljs-doctag {
  color: #a5d6ff;
}

.markdown-content .hljs-title,
.markdown-content .hljs-section,
.markdown-content .hljs-selector-id {
  color: #6f42c1;
}

html.dark .markdown-content .hljs-title,
html.dark .markdown-content .hljs-section,
html.dark .markdown-content .hljs-selector-id {
  color: #d2a8ff;
}

.markdown-content .hljs-type,
.markdown-content .hljs-class .hljs-title {
  color: #22863a;
}

html.dark .markdown-content .hljs-type,
html.dark .markdown-content .hljs-class .hljs-title {
  color: #7ee787;
}

.markdown-content .hljs-tag,
.markdown-content .hljs-name,
.markdown-content .hljs-attribute {
  color: #22863a;
}

html.dark .markdown-content .hljs-tag,
html.dark .markdown-content .hljs-name,
html.dark .markdown-content .hljs-attribute {
  color: #7ee787;
}

.markdown-content .hljs-regexp,
.markdown-content .hljs-link {
  color: #e36209;
}

html.dark .markdown-content .hljs-regexp,
html.dark .markdown-content .hljs-link {
  color: #ffa657;
}

.markdown-content .hljs-symbol,
.markdown-content .hljs-bullet,
.markdown-content .hljs-built_in,
.markdown-content .hljs-builtin-name {
  color: #e36209;
}

html.dark .markdown-content .hljs-symbol,
html.dark .markdown-content .hljs-bullet,
html.dark .markdown-content .hljs-built_in,
html.dark .markdown-content .hljs-builtin-name {
  color: #ffa657;
}

.markdown-content .hljs-meta,
.markdown-content .hljs-deletion {
  color: #cb2431;
}

html.dark .markdown-content .hljs-meta,
html.dark .markdown-content .hljs-deletion {
  color: #ffa198;
}

.markdown-content .hljs-addition,
.markdown-content .hljs-emphasis,
.markdown-content .hljs-strong {
  color: #0969da;
}

html.dark .markdown-content .hljs-addition,
html.dark .markdown-content .hljs-emphasis,
html.dark .markdown-content .hljs-strong {
  color: #1f6feb;
}

/* 任务列表样式 */
.markdown-content .task-list-item {
  list-style: none;
  margin-left: -1.5em;
}

.markdown-content .task-list-item input {
  margin-right: 0.5em;
}

/* 代码块滚动条样式 */
.markdown-content code {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border) var(--color-shell);
}

.markdown-content code::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.markdown-content code::-webkit-scrollbar-track {
  background: var(--color-shell);
  border-radius: 3px;
}

.markdown-content code::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 3px;
}

.markdown-content code::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-muted);
}

/* 表格响应式优化 */
@media (max-width: 640px) {
  .markdown-content table {
    font-size: 12px;
  }

  .markdown-content th,
  .markdown-content td {
    padding: 8px;
  }
}

/* 复制按钮优化 */
.markdown-content .copy-button {
  transition: all 0.2s ease;
}

/* 行内代码优化 */
.markdown-content :not(pre)>code {
  word-break: break-all;
}

/* 链接优化 */
.markdown-content a {
  word-break: break-word;
}

/* 代码块换行优化 - 区分纯文本和代码 */
.markdown-content .hljs {
  /* 仅对代码块应用换行，纯文本保持原样 */
  word-wrap: break-word;
}

.markdown-content code:not(:where(.hljs)) {
  white-space: pre-wrap;
  word-wrap: break-word;
}